"use strict";(self.webpackChunktypewise=self.webpackChunktypewise||[]).push([[5868],{55868:function(e,t,a){a.r(t),a.d(t,{FeedbackModule:function(){return M}});var n=a(38583),o=a(78311),i=a(3679),s=a(5469),r=a(87022),c=a(64762),l=a(5304),d=a(68939),p=a(42810),f=a(59193),g=a(88720),m=a(91841),u=a(30914),b=a(61127),h=a(45118),k=a(28121);function x(e,t){1&e&&(g.TgZ(0,"h1",7),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"modals.feedback.title")))}function Z(e,t){1&e&&(g.TgZ(0,"h1",7),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"settings.settings_support.title")))}function v(e,t){1&e&&(g.TgZ(0,"p"),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"modals.feedback.subtitle")))}function w(e,t){1&e&&(g.TgZ(0,"p"),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"settings.settings_support.text")))}function A(e,t){1&e&&(g.TgZ(0,"span",20),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"modals.feedback.email_hint")))}function q(e,t){1&e&&(g.TgZ(0,"span",10),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"modals.feedback.feedback")))}function y(e,t){1&e&&(g.TgZ(0,"span",10),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"modals.language_support.message")))}function F(e,t){1&e&&(g.TgZ(0,"span",20),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"modals.feedback.feedback_hint")))}function _(e,t){1&e&&(g.TgZ(0,"span",20),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"modals.language_support.message_hint")))}function T(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"form",8),g.TgZ(1,"div"),g.TgZ(2,"div",9),g.TgZ(3,"span",10),g._uU(4),g.ALo(5,"translate"),g.qZA(),g.YNc(6,A,3,3,"span",11),g.qZA(),g._UZ(7,"ion-input",12),g.qZA(),g.TgZ(8,"div",13),g.TgZ(9,"div",9),g.YNc(10,q,3,3,"span",14),g.YNc(11,y,3,3,"span",14),g.YNc(12,F,3,3,"span",11),g.YNc(13,_,3,3,"span",11),g.qZA(),g._UZ(14,"ion-textarea",15),g.qZA(),g.TgZ(15,"ion-item",16),g._UZ(16,"ion-checkbox",17),g.TgZ(17,"ion-label"),g._uU(18),g.ALo(19,"translate"),g.qZA(),g.qZA(),g.TgZ(20,"div",18),g.TgZ(21,"ion-button",19),g.NdJ("click",function(){return g.CHM(e),g.oxw().onSubmit()}),g._uU(22),g.ALo(23,"translate"),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("formGroup",e.feedbackForm),g.xp6(4),g.Oqu(g.lcZ(5,16,"modals.feedback.email")),g.xp6(2),g.Q6J("ngIf",e.feedbackForm.controls.email.invalid&&e.feedbackForm.controls.email.touched),g.xp6(1),g.ekj("tw-input-invalid",e.feedbackForm.controls.email.invalid&&e.feedbackForm.controls.email.touched),g.Q6J("formControl",e.feedbackForm.controls.email),g.xp6(3),g.Q6J("ngIf","feedback"===e.feedbackMode),g.xp6(1),g.Q6J("ngIf","support"===e.feedbackMode),g.xp6(1),g.Q6J("ngIf",e.feedbackForm.controls.message.invalid&&e.feedbackForm.controls.message.touched&&"feedback"===e.feedbackMode),g.xp6(1),g.Q6J("ngIf",e.feedbackForm.controls.message.invalid&&e.feedbackForm.controls.message.touched&&"support"===e.feedbackMode),g.xp6(1),g.ekj("tw-input-invalid",e.feedbackForm.controls.message.invalid&&e.feedbackForm.controls.message.touched),g.Q6J("formControl",e.feedbackForm.controls.message),g.xp6(2),g.Q6J("formControl",e.feedbackForm.controls.attachDebugData),g.xp6(2),g.Oqu(g.lcZ(19,18,"modals.feedback.attach")),g.xp6(4),g.hij(" ",g.lcZ(23,20,"modals.feedback.button")," ")}}const O=[{path:"",component:(()=>{class e{constructor(e,t,a,n,o,i,s,r,c){this.cd=e,this.router=t,this.route=a,this.httpClient=n,this.alertController=o,this.translateService=i,this.analyticsService=s,this.globalVarsService=r,this.globalMethods=c,this.feedbackMode="feedback"}ionViewWillEnter(){this.router.url.startsWith("/content/tabs/support")&&(this.feedbackMode="support"),this.feedbackForm=new i.cw({email:new i.NI("",i.kI.email),message:new i.NI("",i.kI.required),attachDebugData:new i.NI(!0)}),this.cd.markForCheck()}ionViewDidEnter(){this.analyticsService.trackPageEvent(this.feedbackMode)}onSubmit(){return(0,c.mG)(this,void 0,void 0,function*(){Object.keys(this.feedbackForm.controls).forEach(e=>{this.feedbackForm.get(e).markAllAsTouched()}),this.feedbackForm.valid&&(this.analyticsService.isOfflineMode()?yield(yield this.alertController.create({header:this.translateService.instant("modals.feedback.warning.title"),message:this.translateService.instant("modals.feedback.warning.text"),buttons:[{text:this.translateService.instant("modals.feedback.warning.cancel"),role:"cancel"},{text:this.translateService.instant("modals.feedback.warning.send"),handler:()=>(0,c.mG)(this,void 0,void 0,function*(){yield this.sendFeedback()})}]})).present():yield this.sendFeedback())})}sendFeedback(){return(0,c.mG)(this,void 0,void 0,function*(){let e=yield p.A.getInfo();const t={appName:this.globalMethods.isTypewiseOffline()?"Typewise Offline Keyboard":"Typewise Custom Keyboard",appVersion:this.globalVarsService.appVersionNumber,appBuild:this.globalVarsService.appBuild,platform:e.platform,osVersion:e.osVersion,manufacturer:e.manufacturer,model:e.model,settings:JSON.stringify(this.globalVarsService.settings)},a={email:this.feedbackForm.get("email").value?this.feedbackForm.get("email").value:"info@typewise.app",feedback:this.feedbackForm.get("message").value,config:this.feedbackForm.get("attachDebugData").value?JSON.stringify(t):null};this.httpClient.post("https://hook.integromat.com/gpfyvfy7c4yw26h1gagdmkaae84787mp",a).pipe((0,l.K)(()=>f.E),(0,d.x)(()=>(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:this.translateService.instant("modals.feedback.success.title"),message:this.translateService.instant("modals.feedback.success.text"),buttons:[{text:this.translateService.instant("modals.feedback.success.ok"),handler:()=>(0,c.mG)(this,void 0,void 0,function*(){yield this.router.navigateByUrl("/content/tabs/settings")})}]})).present()}))).subscribe()})}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(g.sBO),g.Y36(r.F0),g.Y36(r.gz),g.Y36(m.eN),g.Y36(o.Br),g.Y36(s.sK),g.Y36(u.y),g.Y36(b.u),g.Y36(h.t))},e.\u0275cmp=g.Xpm({type:e,selectors:[["tw-feedback"]],decls:9,vars:8,consts:[[1,"settings","ion-padding","tw-spacing-v2"],[3,"showHelp","showFeedback","showBackButton"],["color","light",1,"ion-no-border"],["mode","md",1,"ion-no-padding"],["class","ion-no-margin",4,"ngIf"],[4,"ngIf"],["class","margin-top-22",3,"formGroup",4,"ngIf"],[1,"ion-no-margin"],[1,"margin-top-22",3,"formGroup"],[1,"form-field-header"],[1,"margin-left-4","form-field-name","ion-text-uppercase"],["class","margin-left-8 validation-message",4,"ngIf"],["type","email",1,"tw-input","margin-top-4",3,"formControl"],[1,"margin-top-14"],["class","margin-left-4 form-field-name ion-text-uppercase",4,"ngIf"],["auto-grow","true",1,"tw-input","red","margin-top-4",3,"formControl"],["lines","none","mode","ios",1,"margin-top-14","padding-0-8","attach-debug-details"],["slot","start","mode","ios",1,"attach-debug-checkbox",3,"formControl"],[1,"margin-top-30"],["expand","block",1,"padding-0-22",3,"click"],[1,"margin-left-8","validation-message"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-content",0),g._UZ(1,"tw-toolbar",1),g.TgZ(2,"ion-toolbar",2),g.TgZ(3,"ion-title",3),g.YNc(4,x,3,3,"h1",4),g.YNc(5,Z,3,3,"h1",4),g.qZA(),g.YNc(6,v,3,3,"p",5),g.YNc(7,w,3,3,"p",5),g.qZA(),g.YNc(8,T,24,22,"form",6),g.qZA()),2&e&&(g.xp6(1),g.Q6J("showHelp",!0)("showFeedback","feedback"!==t.feedbackMode)("showBackButton",!0),g.xp6(3),g.Q6J("ngIf","feedback"===t.feedbackMode),g.xp6(1),g.Q6J("ngIf","support"===t.feedbackMode),g.xp6(1),g.Q6J("ngIf","feedback"===t.feedbackMode),g.xp6(1),g.Q6J("ngIf","support"===t.feedbackMode),g.xp6(1),g.Q6J("ngIf",t.feedbackForm))},directives:[o.W2,k.n,o.sr,o.wd,n.O5,i._Y,i.JL,i.sg,o.pK,o.j9,i.JJ,i.oH,o.g2,o.Ie,o.nz,o.w,o.Q$,o.YG],pipes:[s.X$],styles:[".tw-input[_ngcontent-%COMP%]{background-color:#fff;border:1px solid transparent;border-radius:8px;font-size:16px;box-shadow:0 0 8px #00000029;--padding-start: 8px;--padding-end: 8px;--padding-top: 8px;--padding-bottom: 8px}.tw-input.tw-input-invalid[_ngcontent-%COMP%]{border:1px solid #e34a4a}.validation-message[_ngcontent-%COMP%]{font-size:14px;line-height:16px;letter-spacing:.28px;font-weight:400;color:#e34a4a}.attach-debug-details[_ngcontent-%COMP%]{--background: transparent;--ion-safe-area-left: 0}.form-field-name[_ngcontent-%COMP%]{font-size:11px;line-height:13px;letter-spacing:1.2px;font-weight:700;color:#000}.form-field-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;height:16px}"],changeDetection:0}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[r.Bz.forChild(O)],r.Bz]}),e})();var J=a(214);let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[o.Pc,n.ez,i.UX,s.aw,C,J.m]]}),e})()}}]);